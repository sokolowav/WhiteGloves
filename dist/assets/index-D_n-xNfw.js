(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function c(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=c(s);fetch(s.href,o)}})();const ke=()=>{new Swiper(".news .swiper",{effect:"fade",fadeEffect:{crossFade:!0},loop:!0,autoplay:{delay:5e3,pauseOnMouseEnter:!0,disableOnInteraction:!1},pagination:{el:".news .swiper-pagination",clickable:!0}})},be=()=>{document.querySelectorAll(".news .button").forEach(t=>{const c=t.querySelector(".bubble");function n(s){const o=t.getBoundingClientRect(),i=s.clientX-o.left,q=s.clientY-o.top;c.style.left=`${i}px`,c.style.top=`${q}px`}t.addEventListener("mouseenter",n),t.addEventListener("mouseout",n)})},ge=()=>{const e=new Swiper(".demonstration__swiper",{slidesPerView:1,effect:"fade",allowTouchMove:!1}),t=document.querySelector(".swiper__tabsToggle"),c=document.querySelector(".swiper__tabs"),n=document.querySelector(".swiper__tabs_selected"),s=document.querySelector(".demonstration__overlay"),o=s.querySelector(".closeBtn");t==null||t.addEventListener("click",()=>{c.classList.toggle("show"),t.classList.toggle("open")}),document.querySelectorAll(".swiper__tab").forEach(i=>{i.addEventListener("click",()=>{const q=parseInt(i.dataset.tab,10);e.slideTo(q),document.querySelectorAll(".swiper__tab").forEach(k=>k.classList.remove("active")),i.classList.add("active"),n.textContent=i.textContent,c.classList.remove("show"),t.classList.remove("open"),s.classList.remove("active")})}),document.querySelectorAll(".dotWrapper").forEach(i=>i.addEventListener("click",()=>{const q=i.querySelector("span").innerHTML,k=s.querySelector("span");k.innerHTML=q,s.classList.add("active")})),o.addEventListener("click",()=>s.classList.remove("active"))},Ee={"Гeнеральная уборка":150,"Уборка после ремонта":150,"Поддерживающая уборка":80,"Экспресс уборка":130};document.addEventListener("DOMContentLoaded",()=>{ke(),be(),ge()});new Swiper(".report__swiper",{effect:"fade",fadeEffect:{crossFade:!0},loop:!0,allowTouchMove:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:function(){ie(this)},init:function(){ie(this)}}});function ie(e){e.slides.forEach((c,n)=>{const s=c.querySelector(".swiper__pagination");if(s){s.innerHTML="";for(let o=0;o<e.slides.length;o++){const i=document.createElement("span");i.className="swiper__paginationBullet",o===e.realIndex&&i.classList.add("swiper__paginationBullet_active"),i.addEventListener("click",()=>e.slideToLoop(o)),s.appendChild(i)}}})}document.querySelectorAll(".slider").forEach(e=>{e.addEventListener("input",()=>we(e.id))});function we(e){const t=document.getElementById(e),c=t.value;t.previousElementSibling.previousElementSibling.style.clipPath=`polygon(0 0, ${c}% 0, ${c}% 100%, 0 100%)`;const n=document.getElementById(`line-${e}`);n.style.left=`calc(${c}% - 1px)`}document.querySelectorAll(".checkboxWrapper").forEach(e=>{e.addEventListener("click",()=>{e.querySelector(".check").classList.toggle("check_invisible")})});const P=document.querySelector(".equipment__input"),T=document.querySelector(".result__input"),F=document.querySelector(".order__input");Inputmask({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,showMaskOnFocus:!0,placeholder:"_",clearIncomplete:!0}).mask(P);Inputmask({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,showMaskOnFocus:!0,placeholder:"_",clearIncomplete:!0}).mask(T);Inputmask({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,showMaskOnFocus:!0,placeholder:"_",clearIncomplete:!0}).mask(F);document.querySelectorAll(".FAQ__itemQuestion").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".FAQ__item"),c=t.querySelector(".FAQ__itemAnswer"),n=t.querySelector(".FAQ__buttonImg"),s=c.classList.contains("active");document.querySelectorAll(".FAQ__itemAnswer").forEach(o=>{o.classList.remove("active"),o.style.maxHeight=null}),document.querySelectorAll(".FAQ__buttonImg").forEach(o=>{o.classList.remove("FAQ__buttonImg_active")}),s||(c.classList.add("active"),c.style.maxHeight=c.scrollHeight+40+"px",n.classList.add("FAQ__buttonImg_active"))})});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".navbar"),t=document.querySelectorAll(".navbar__tab"),c=document.querySelectorAll('.navbar a[href^="#"]'),n=document.querySelector(".services"),s=document.querySelectorAll("section[id]");let o=!1;n.getBoundingClientRect().top<100&&(e.classList.add("visible"),o=!0),c.forEach(u=>{u.addEventListener("click",function(m){m.preventDefault();const g=document.querySelector(this.getAttribute("href")),_=this.closest(".navbar__tab");if(g){const E=parseFloat(getComputedStyle(e).height),x=g.getBoundingClientRect().top+window.pageYOffset-E;window.scrollTo({top:x,behavior:"smooth"}),t.forEach(O=>O.classList.remove("active")),_.classList.add("active")}})}),new IntersectionObserver(u=>{u.forEach(m=>{m.isIntersecting&&!o&&window.scrollY>100?(e.classList.add("visible"),o=!0):(!m.isIntersecting||window.scrollY<=100)&&o&&(e.classList.remove("visible"),o=!1)})},{threshold:.1}).observe(n),window.addEventListener("scroll",()=>{window.scrollY<=100&&o?(e.classList.remove("visible"),o=!1):window.scrollY>100&&n.getBoundingClientRect().top<window.innerHeight&&(e.classList.add("visible"),o=!0)});const y=new IntersectionObserver(u=>{u.forEach(m=>{var E;const g=m.target.getAttribute("id"),_=(E=document.querySelector(`.navbar a[href="#${g}"]`))==null?void 0:E.closest(".navbar__tab");m.isIntersecting&&(t.forEach(x=>x.classList.remove("active")),_&&_.classList.add("active"))})},{threshold:.25});s.forEach(u=>y.observe(u));const f=document.querySelector("#navbarBurger"),b=document.querySelector("#navbarArrow"),$=document.querySelector(".footer");let B=!1,I=null;const L=document.createElement("div");L.classList.add("navbar__tabs_mobile");function X(){f.classList.add("active"),L.classList.add("active","fadeInRightSection")}function C(){f.classList.remove("active"),L.classList.remove("fadeInRightSection"),L.classList.add("fadeOutRightSection"),setTimeout(()=>L.classList.remove("active","fadeOutRightSection"),300)}t.forEach(u=>{const m=u.cloneNode(!0);L.appendChild(m)}),document.body.appendChild(L),f.addEventListener("click",()=>f.classList.contains("active")?C():X()),L.querySelectorAll(".navbar__tab").forEach(u=>{u.addEventListener("click",m=>{m.preventDefault();const g=u.querySelector("a"),_=document.querySelector(g.getAttribute("href"));if(_){const E=_.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:E,behavior:"smooth"})}C()})}),b.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),C()});const z=()=>{clearTimeout(I),I=setTimeout(()=>{B&&(f.classList.remove("fadeOutRightSection"),b.classList.remove("fadeOutRightSection"),f.classList.add("fadeInRightSection"),b.classList.add("fadeInRightSection"),B=!1)},300)},R=()=>{clearTimeout(I),I=setTimeout(()=>{B||(f.classList.remove("fadeInRightSection"),b.classList.remove("fadeInRightSection"),f.classList.add("fadeOutRightSection"),b.classList.add("fadeOutRightSection"),B=!0)},300)},K=new IntersectionObserver(u=>{u.forEach(m=>{m.isIntersecting?R():z()})},{root:null,threshold:.1});$&&window.innerWidth<=767&&K.observe($),window.addEventListener("resize",()=>{window.innerWidth>767&&(clearTimeout(I),f.classList.remove("fadeOutRightSection","fadeInRightSection"),b.classList.remove("fadeOutRightSection","fadeInRightSection"),C())})});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".services__item");e.forEach(t=>{const c=t.querySelector(".details"),n=t.querySelector(".closeBtn");c.addEventListener("click",()=>{e.forEach(s=>s.classList.remove("flipped")),t.classList.add("flipped")}),n.addEventListener("click",()=>{t.classList.remove("flipped")})})});const Ie=document.querySelectorAll(".fadeInSection"),ae=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){const n=(parseInt(t.target.dataset.index,10)||0)*100;t.target.style.setProperty("--delay",`${n}ms`),t.target.classList.add("show"),ae.unobserve(t.target)}})},{threshold:.2});Ie.forEach(e=>ae.observe(e));document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#modalOverlayCalc"),t=document.querySelector("#modalOverlayResult"),c=document.querySelector("#modalOverlayConfirmation"),n=document.querySelector("#modalOverlayOrder"),s=document.querySelector("#modalOverlayRequisites"),o=document.querySelector("#modalOverlayPrivacy"),i=document.querySelector(".modal_calculator__content"),q=n.querySelector(".order__form"),k=document.querySelector(".equipment__form"),y=document.querySelector("#modalCalc"),f=t.querySelector(".resultSummary"),b=t.querySelector(".resultPrice"),$=document.querySelectorAll(".openModalCalc"),B=document.querySelectorAll(".openModalOrder"),I=document.querySelector(".openModalRequisites"),L=document.querySelectorAll(".openModalPrivacy"),X=n.querySelector(".order__button"),C=document.querySelector(".equipment__button"),z=y.querySelector(".button_forward"),R=y.querySelector(".button_back"),K=t.querySelector(".result__button"),u=e.querySelector(".closeBtn"),m=t.querySelector(".closeBtn"),g=c.querySelector(".closeBtn"),_=n.querySelector(".closeBtn"),E=s.querySelector(".closeBtn"),x=o.querySelector(".closeBtn"),O=y.querySelectorAll(".modal__step"),ce=y.querySelector(".modal__progressBar"),de=ce.querySelector(".txt_regular"),W=e.querySelector(".modal_calculator__aside"),H=e.querySelector(".modal_calculator__content"),D=t.querySelector(".modal_result"),V=c.querySelector(".modal_confirmation"),Q=n.querySelector(".modal_order"),N=s.querySelector(".modal_requisites"),Y=o.querySelector(".modal_privacy");let p=0;const ue={"Мойка холодильника":600,"Мойка микроволновки":400,"Мойка варочной плиты":400,"Мойка духовки":500,"Мойка вытяжки":500,"Уборка на балконе":1e3,"Мойка потолков":35,"Мойка стен":50,"Поменять постельное":200};function me(r,d,l){const v=[];let a=0;const U=r*d;return a+=U,l.forEach(w=>{const M=["Мойка потолков","Мойка стен"].includes(w.name)?w.price*r:w.price;v.push({name:w.name,amount:M}),a+=M}),{serviceCost:U,extraPriceResults:v,total:a}}function ve(){e.classList.add("active"),document.body.style.overflow="hidden",W.classList.add("fadeInLeftSection"),H.classList.add("fadeInRightSection")}function se(){W.classList.remove("fadeInLeftSection"),H.classList.remove("fadeInRightSection"),W.classList.add("fadeOutLeftSection"),H.classList.add("fadeOutRightSection"),setTimeout(()=>{e.classList.remove("active"),document.body.style.overflow="",W.classList.remove("fadeOutLeftSection"),H.classList.remove("fadeOutRightSection")},300)}function fe(){const r=y.querySelector('input[name="Место"]:checked').value,d=y.querySelector('input[name="Услуга"]:checked').value,l=parseInt(y.querySelector("input.areaInput").value),v=[...y.querySelectorAll('input[name="Допуслуга[]"]:checked')].map(S=>S.value).filter(S=>S!=="Ничего не нужно"),a=Ee[d],U=v.map(S=>({name:S,price:ue[S]})),w=me(l,a,U);f.innerHTML=`
    <span class="txt_regular">
      ${d}<br />${r} площадью ${l} м²</span>
    <span class="txt_regular servicePrice price">${w.serviceCost.toLocaleString("ru-RU")} ₽</span>
    `,w.extraPriceResults.forEach(S=>{const M=document.createElement("span"),ee=document.createElement("span");ee.classList.add("price"),M.textContent=`${S.name}`,ee.textContent=`${S.amount.toLocaleString("ru-RU")} ₽`,f.appendChild(M),f.appendChild(ee)}),b.innerHTML=`
    <span class="txt_subtitle txt_bold resultPrice">Стоимость:</span>
    <span class="txt_subtitle txt_bold txt_aquamarine price">
      ${w.total.toLocaleString("ru-RU")} ₽</span>`,t.classList.add("active"),D.classList.add("fadeInBottomSection"),document.body.style.overflow="hidden"}function oe(){D.classList.remove("fadeInBottomSection"),D.classList.add("fadeOutBottomSection"),setTimeout(()=>{t.classList.remove("active"),document.body.style.overflow="",D.classList.remove("fadeOutBottomSection")},300)}function j(){c.classList.add("active"),document.body.style.overflow="hidden",V.classList.add("fadeInBottomSection")}function pe(){V.classList.remove("fadeInBottomSection"),V.classList.add("fadeOutBottomSection"),setTimeout(()=>{c.classList.remove("active"),document.body.style.overflow="",V.classList.remove("fadeOutBottomSection")},300)}function he(){n.classList.add("active"),document.body.style.overflow="hidden",Q.classList.add("fadeInBottomSection")}function ne(){Q.classList.remove("fadeInBottomSection"),Q.classList.add("fadeOutBottomSection"),setTimeout(()=>{n.classList.remove("active"),document.body.style.overflow="",Q.classList.remove("fadeOutBottomSection")},300)}function ye(){s.classList.add("active"),document.body.style.overflow="hidden",N.classList.add("fadeInBottomSection")}function Le(){N.classList.remove("fadeInBottomSection"),N.classList.add("fadeOutBottomSection"),setTimeout(()=>{s.classList.remove("active"),document.body.style.overflow="",N.classList.remove("fadeOutBottomSection")},300)}function Se(){o.classList.add("active"),document.body.style.overflow="hidden",Y.classList.add("fadeInBottomSection")}function qe(){Y.classList.remove("fadeInBottomSection"),Y.classList.add("fadeOutBottomSection"),setTimeout(()=>{o.classList.remove("active"),document.body.style.overflow="",Y.classList.remove("fadeOutBottomSection")},300)}function G(r){O.forEach((d,l)=>{d.classList.toggle("active",l===r)}),r===0?R.classList.add("hide"):R.classList.remove("hide")}function J(r){const d=(r+1)/O.length*100;ce.style.width=`${d}%`,de.innerHTML=`Вопрос ${r+1} из ${O.length}`}function _e(r){const d=O[r],l=d.querySelector('input[type="radio"]:checked')||d.querySelector('input[type="checkbox"]:checked')||d.querySelector('input[type="number"]');return l?!(l.type==="number"&&l.value.trim()===""):!1}function Z(){i.reset(),p=0,G(p),J(p);const r=i.querySelectorAll(".stepItem__dot.checked"),d=i.querySelectorAll(".stepItem__checkWrapper.checked"),l=i.querySelectorAll(".stepItem__check.checked"),v=i.querySelectorAll(".txt_regular.checked");r.forEach(a=>a.classList.remove("checked")),d.forEach(a=>a.classList.remove("checked")),l.forEach(a=>a.classList.remove("checked")),v.forEach(a=>a.classList.remove("checked"))}function re(){const r=q.querySelector(".socialWrapper.checked");r&&r.classList.remove("checked"),q.reset()}z.addEventListener("click",()=>{if(_e(p))p<O.length-1?(p++,J(p),G(p)):(se(),setTimeout(()=>fe(),300));else{const r=y.querySelector(".instruction");r.classList.add("alert"),setTimeout(()=>{r.classList.remove("alert")},300)}}),R.addEventListener("click",()=>{p>0&&(p--,J(p),G(p))}),$.forEach(r=>r.addEventListener("click",()=>ve())),B.forEach(r=>r.addEventListener("click",()=>he())),L.forEach(r=>r.addEventListener("click",()=>Se())),I.addEventListener("click",()=>ye()),K.addEventListener("click",r=>{const d=t.querySelector(".check"),l=t.querySelector(".checkboxWrapper"),v=T.inputmask.isComplete(),a=!d.classList.contains("check_invisible");if(r.preventDefault(),!v||!a){a||(l.classList.add("alert"),setTimeout(()=>l.classList.remove("alert"),300)),v||(T.classList.add("alert"),setTimeout(()=>T.classList.remove("alert"),300));return}T.value="",oe(),Z(),setTimeout(()=>j(),300)}),X.addEventListener("click",r=>{const d=n.querySelector(".check"),l=n.querySelector(".checkboxWrapper"),v=F.inputmask.isComplete(),a=!d.classList.contains("check_invisible");if(r.preventDefault(),!v||!a){a||(l.classList.add("alert"),setTimeout(()=>l.classList.remove("alert"),300)),v||(F.classList.add("alert"),setTimeout(()=>F.classList.remove("alert"),400));return}re(),ne(),setTimeout(()=>j(),300)}),C.addEventListener("click",r=>{const d=k.querySelector(".check"),l=k.querySelector(".checkboxWrapper"),v=P.inputmask.isComplete(),a=!d.classList.contains("check_invisible");if(r.preventDefault(),!v||!a){a||(l.classList.add("alert"),setTimeout(()=>l.classList.remove("alert"),300)),v||(P.classList.add("alert"),setTimeout(()=>P.classList.remove("alert"),400));return}k.reset(),j()}),u.addEventListener("click",()=>{se(),Z()}),m.addEventListener("click",()=>{oe(),Z()}),g.addEventListener("click",()=>{pe()}),_.addEventListener("click",()=>{re(),ne()}),E.addEventListener("click",()=>Le()),x.addEventListener("click",()=>qe())});const Oe=document.querySelectorAll('input[name="Место"]');Oe.forEach(e=>{e.addEventListener("change",()=>{document.querySelectorAll("#step1 .stepItem").forEach(c=>{const n=c.querySelector(".stepItem__checkWrapper"),s=c.querySelector(".stepItem__check"),o=c.querySelector('input[type="radio"]'),i=c.querySelector(".txt_bold");o.checked?(n.classList.add("checked"),s.classList.add("checked"),i.classList.add("checked")):(n.classList.remove("checked"),s.classList.remove("checked"),i.classList.remove("checked"))})})});const Be=document.querySelectorAll('input[name="Услуга"]');Be.forEach(e=>{e.addEventListener("change",()=>{document.querySelectorAll("#step2 .stepItem").forEach(c=>{const n=c.querySelector(".stepItem__dot"),s=c.querySelector(".stepItem__check"),o=c.querySelector('input[type="radio"]'),i=c.querySelector(".txt_regular");o.checked?(n.classList.add("checked"),s.classList.add("checked"),i.classList.add("checked")):(n.classList.remove("checked"),s.classList.remove("checked"),i.classList.remove("checked"))})})});const h=document.querySelector(".areaInput");h.addEventListener("input",()=>{const e=h.closest(".stepItem"),t=e.querySelector(".stepItem__dot"),c=e.querySelector(".stepItem__check");h.value=h.value.replace(/[^0-9]/g,""),h.value=h.value.replace(/^0+/,""),h.value.length>4&&(h.value=h.value.slice(0,4)),t.classList.toggle("checked",h.value.trim()!==""),c.classList.toggle("checked",h.value.trim()!=="")});h.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),document.querySelector(".button_forward").click())});const le=document.querySelectorAll('input[name="Допуслуга[]"]'),A=document.querySelector('input[value="Ничего не нужно"]');function te(){document.querySelectorAll("#step4 .stepItem").forEach(t=>{const c=t.querySelector(".stepItem__dot"),n=t.querySelector(".stepItem__check"),s=t.querySelector('input[name="Допуслуга[]"]'),o=t.querySelector(".txt_regular");s.checked?(c.classList.add("checked"),n.classList.add("checked"),o.classList.add("checked")):(c.classList.remove("checked"),n.classList.remove("checked"),o.classList.remove("checked"))})}A.addEventListener("change",()=>{A.checked&&(le.forEach(e=>{e!==A&&(e.checked=!1)}),te())});le.forEach(e=>{e!==A&&e.addEventListener("change",()=>{e.checked&&A.checked&&(A.checked=!1),te()})});te();const Ce=document.querySelectorAll('input[name="Способ связи"]');Ce.forEach(e=>{e.addEventListener("change",()=>{document.querySelectorAll(".order__socialsWrapper .socialWrapper").forEach(c=>{c.querySelector('input[type="radio"]').checked?c.classList.add("checked"):c.classList.remove("checked")})})});F.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),document.querySelector(".order__button").click())});P.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),document.querySelector(".equipment__button").click())});
